{% load static %}
<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Download Pdf</title>

  <style type="text/css">
    .tg  {border-collapse:collapse;border-spacing:0;}
    .tg td{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
      overflow:hidden;padding:10px 5px;word-break:normal;}
    .tg th{border-color:black;border-style:solid;border-width:1px;font-family:Arial, sans-serif;font-size:14px;
      font-weight:normal;overflow:hidden;padding:10px 5px;word-break:normal;}
    .tg .tg-1wig{font-weight:bold;text-align:left;vertical-align:top}
    .tg .tg-y698{background-color:#efefef;border-color:inherit;text-align:left;vertical-align:top}
    .tg .tg-0lax{text-align:left;vertical-align:top}
    .tg .tg-0pky{border-color:inherit;text-align:left;vertical-align:top}
    .tg .tg-73oq{border-color:#000000;text-align:left;vertical-align:top}
  </style>
</head>
<body class="container">
<button id="generatePDF" class="btn btn-success mt-5" onclick="generatePdf()">
  <!-- <img src="{% static 'pdf.png' %}" width="25px" alt="pdf download"> -->
  Download
</button>
<!-- <div class="filter-search-section d-flex gap-3 mt-3 flex-md-row flex-column">
      <div class="search-text">
        <label for="filter" class="mb-1 text-secondary">Search by Name</label>
        <div class="input-group">
          <input type="text" placeholder="Search" name="customerName" class="form-control" id="filter">
          <span class="input-group-text">
            <img src="{% static 'search.png' %}" width="25px" alt="Search Icon">
          </span>
        </div>
      </div> -->
<div class="table-wrapper"  id="table-element" style="overflow-x: scroll; margin-top: 20px;margin-left: 20px;margin-right: 20px;">
  <table  class="tg" style="width: 100%;">
    <thead>
    <tr>
      <th class="tg-1wig">Sr No.</th>
      <th class="tg-0lax"><span style="font-weight:bold">Username</span></th>
      <th class="tg-0lax"><span style="font-weight:bold">Client Name</span></th>
      <th class="tg-0lax"><span style="font-weight:bold">Server</span></th>
      <th class="tg-1wig">Payment Received</th>
      <th class="tg-1wig">Payment Type</th>
      <th class="tg-1wig">Phone No.</th>
      <th class="tg-1wig">Expiry</th>
      <th class="tg-1wig">Buy</th>
      <th class="tg-1wig">Sell</th>
    </tr>
    </thead>
    <tbody>
      {% for user in userdata %}
    <tr>
      <td class="tg-0lax">{{forloop.counter}}</td>
      <td class="tg-0lax">{{user.username}}</td>
      <td class="tg-0lax">{{user.clientname}}</td>
      <td class="tg-0lax">{{user.server}}</td>
      <td class="tg-0lax">{{user.paymentRecieved}}</td>
      <td class="tg-0lax">{{user.paymentType}}</td>
      <td class="tg-0lax">{{user.phone}}</td>
      <td class="tg-0lax" style="width: 80px;" >{{user.date}}</td>
      <td class="tg-0lax">{{user.buyAmount}}</td>
      <td class="tg-0lax">{{user.sellAmount}}</td>
    </tr>
    {% endfor %}
    <tr>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-1wig">Inter Profit</td>
      <td class="tg-0lax">{{IntProfit}}</td>
    </tr>
    <tr>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-1wig">Total Buy</td>
      <td class="tg-0lax">{{TotalBuy}}</td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-1wig">Asia Profit</td>
      <td class="tg-0lax">{{AsiaProfit}}</td>
    </tr>
    <tr>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-1wig">Total Sell</td>
      <td class="tg-0lax">{{TotalSell}}</td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"></td>
      <td class="tg-0lax"><span style="font-weight:bold">Total Profit</span></td>
      <td class="tg-0lax">{{FinalProfit}}</td>
    </tr>
    </tbody>
  </table>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
<script type="text/javascript">
 function generatePdf() {
  const element = document.getElementById('table-element');
  html2pdf()
  .from(element)
  .save();
}
</script>

</body>
</html>